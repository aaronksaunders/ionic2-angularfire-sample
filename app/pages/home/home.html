<ion-navbar *navbar>
    <ion-title>
        Angular Fire Test App
    </ion-title>
    <ion-buttons end>
        <button (click)="logoutClicked()">
            <ion-icon name="contact"></ion-icon>
            {{buttonTitle}}
        </button>
    </ion-buttons>
</ion-navbar>

<ion-content class="home">
    <ion-item>
        <ion-row>
            <ion-col width-80 style="margin-top:8px">
                <div *ngIf="displayName">You are logged in as {{authInfo && displayName}}</div>
                <div *ngIf="!displayName">Please log in</div>
            </ion-col>
            <ion-col width-20>
                <button (click)="addNewItemClicked()">Add Item</button>
            </ion-col>
        </ion-row>
    </ion-item>
    <ion-card *ngFor="let item of textItems | async">
        <ion-card-header>
            {{item.title}}
        </ion-card-header>
        <ion-card-content>
            {{item.description}} - {{ item.timestamp | MomentDate:"LLL"}}
        </ion-card-content>
    </ion-card>
    <ion-card *ngFor="let user of usersWithMessages | async">
        <ion-card-header>
            {{user.displayName}}
        </ion-card-header>
        <ion-card-content>
            {{ (user.messages | async) | json}}
        </ion-card-content>
    </ion-card>
</ion-content>